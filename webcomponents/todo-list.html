<html>
  <body>
    <script>

var TodoListProto = Object.create(HTMLUListElement.prototype);

TodoListProto.empty = function () {
  while (this.hasChildNodes()) {
    this.removeChild(this.lastChild);
  }
};

TodoListProto.addItem = function (attrs) {
  var item = document.createElement('todo-item');
  Object.keys(attrs).forEach(function (key) {
    item.setAttribute(key, attrs[key]);
  });
  this.appendChild(item);
};

// Add an item to the todo list
TodoListProto.reset = function (models) {
  this.empty();
  models.forEach(this.addItem.bind(this));
};

document.registerElement('todo-list', {
  prototype: TodoListProto
});

    </script>
  </body>
</html>

